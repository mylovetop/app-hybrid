/*! p2p 2015-01-16 */
var Common={getURL:function(a,b){var c=Constant.URL+a;return"undefined"!=typeof b&&(c+=b),c},setSessionStorage:function(a,b){sessionStorage.setItem(a,b)},getSessionStorage:function(a){return sessionStorage.getItem(a)},setLocalStorage:function(a,b){localStorage.setItem(a,b)},getLocalStorage:function(a){return localStorage.getItem(a)},setLogin:function(a){1==a?this.setLocalStorage(Constant.KEY_LOGIN,Constant.DATA_LOGIN_OK):this.setLocalStorage(Constant.KEY_LOGIN,Constant.DATA_LOGIN_FAIL)},getLogin:function(){return this.getLocalStorage(Constant.KEY_LOGIN)},getParamsFromProject:function(a,b){var c=Object.keys(a),d="?",e="";return c.forEach(function(b){e=a[b],"finishedPercent"==b&&(e=e.replace("%","%25")),d+=b+"="+e+"&"}),d+="routeTopBarBack="+b+"&"},setRouteTopBarBack:function(a){Constant.DATA_ROUT_TOP_BAR_BACK=a},setScrollTopZero:function(){document.body.scrollTop=0,document.documentElement.scrollTop=0},getScrollTop:function(){var a=0,b=0,c=0;return document.body&&(b=document.body.scrollTop),document.documentElement&&(c=document.documentElement.scrollTop),a=b-c>0?b:c},getScrollHeight:function(){var a=0,b=0,c=0;return document.body&&(b=document.body.scrollHeight),document.documentElement&&(c=document.documentElement.scrollHeight),a=b-c>0?b:c},getWindowHeight:function(){var a=0;return a="CSS1Compat"==document.compatMode?document.documentElement.clientHeight:document.body.clientHeight},ios7:function(){return/(iPad|iPhone|iPod);.*CPU.*OS 7_\d/i.test(navigator.userAgent)||/(iPad|iPhone|iPod);.*CPU.*OS 8_\d/i.test(navigator.userAgent)?1:0},noTouchMove:function(){document.addEventListener("touchmove",function(a){a.preventDefault()},!1)},isIos:function(){return/(iPad|iPhone|iPod);/i.test(navigator.userAgent)?(this.noTouchMove(),1):0},hasIScroll:function(){var a=!0;return this.isIos()&&(a=!0),a},iScrollClick:function(){if(/iPhone|iPad|iPod|Macintosh/i.test(navigator.userAgent))return!1;if(/Chrome/i.test(navigator.userAgent))return/Android/i.test(navigator.userAgent);if(/Silk/i.test(navigator.userAgent))return!1;if(/Android/i.test(navigator.userAgent)){var a=navigator.userAgent.substr(navigator.userAgent.indexOf("Android")+8,3);return parseFloat(a[0]+a[3])<44?!1:!0}},initIScroll:function(a,b){var c={click:this.iScrollClick(),scrollbars:!0,mouseWheel:!0,fadeScrollbars:!0};"undefined"!=typeof b&&(c.probeType=3);var d=new IScroll("#wrapper",c);return"undefined"!=typeof a&&d.on("scrollEnd",a),"undefined"!=typeof b&&d.on("scroll",b),d},initFastClick:function(){"addEventListener"in document&&document.addEventListener("DOMContentLoaded",function(){FastClick.attach(document.body)},!1)},isOnLine:function(){return window.navigator.onLine?!0:!1},checkOnLine:function(a){var b=function(b){a.dTip={message:b.message,cssTip:b.cssTip,count:b.count}};b({message:"",cssTip:"",count:0});var c=setInterval(function(){Common.isOnLine()||(b({message:Constant.ERROR_NET_WORK,cssTip:"tip",count:a.dTip.count+1}),a.$apply())},1e4);this.setLocalStorage(Constant.KEY_HEART_TIME,c+"")},clearInterval:function(){var a=this.getLocalStorage(Constant.KEY_HEART_TIME)-0;window.clearInterval(a)},updateApplicationCache:function(){},clearHistory:function(){"undefined"!=typeof navigator.app&&"undefined"!=typeof navigator.app.clearHistory&&navigator.app.clearHistory()}};
/*! p2p 最后修改于： 2015-01-16 */